---
title: "Stock Market Simulator"
date: 2026-01-23
draft: false
tags: ["architecture", "streaming", "real-time", "software-engineering"]
categories: ["Architecture Work"]
summary: "Real-time market data simulation showcasing modern event-driven architecture"
weight: 1
---

<div style="padding: 1rem; background: var(--code-bg); border-left: 3px solid var(--tertiary); margin-bottom: 2rem; border-radius: 4px;">

**Architecture · Streaming · .NET**  
_Work in Progress_

</div>

## What is Stock Market Simulator?

The Stock Market Simulator is a **real-time stock market data simulation system** that demonstrates modern streaming architectures in action. It generates synthetic market data and delivers it to web browser clients in real time, creating a living laboratory for event-driven patterns and high-throughput data pipelines.

### Business Value

This system delivers value across three dimensions:

1. **Educational Tool**: Demonstrates event-driven patterns, message queuing, and real-time data streaming without the complexity of connecting to actual market data providers
2. **Technical Demonstration**: Showcases modern .NET capabilities including SignalR for WebSocket communication, Redis Streams for message persistence, and reactive programming patterns
3. **Architecture Reference**: Provides a complete implementation of a streaming pipeline that can be adapted for production scenarios requiring real-time data distribution

### System Overview

<div class="architecture-diagram">

<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="643px" height="82px" viewBox="-0.5 -0.5 643 82" style="background-color: rgb(255, 255, 255);"><defs><style type="text/css">@import url(https://fonts.googleapis.com/css?family=Architects+Daughter);&#xa;</style></defs><g><g data-cell-id="0"><g data-cell-id="1"><g><rect x="181" y="11" width="280" height="70" fill="none" stroke="none" pointer-events="all"/><path d="M 181 11 C 227.89 13.98 261.76 12.87 321 11 C 380.24 9.13 437.37 6.81 461 11 C 484.63 15.19 467.88 23.23 461 41 C 454.12 58.77 447.94 78.37 411 81 C 374.06 83.63 310.08 72.98 261 74 C 211.92 75.02 185.18 81.59 181 79 C 176.82 76.41 184.23 63.71 181 51 C 177.77 38.29 157.85 26 181 11 M 181 11 C 242.16 10.85 299.28 12.1 321 11 C 342.72 9.9 347.49 8.68 401 11 C 454.51 13.32 471.39 13.62 461 21 C 450.61 28.38 429.38 39.09 421 51 C 412.62 62.91 404.77 78.07 381 79 C 357.23 79.93 302.93 69.36 261 71 C 219.07 72.64 202.08 75.4 191 77 C 179.92 78.6 169.48 78.94 181 61 C 192.52 43.06 220.14 13.69 221 11 C 221.86 8.31 179.1 9.94 181 11" fill="rgb(204, 255, 255)" stroke="none" pointer-events="all" style="fill: light-dark(rgb(204, 255, 255), rgb(182, 223, 230));"/><path d="M 181 11 C 234.86 12.45 263.73 9.41 321 11 M 181 11 C 233.06 14.59 282.38 13.65 321 11 M 321 11 C 382.07 9.15 448.71 10.92 461 11 M 321 11 C 377.82 8.27 440.38 8.39 461 11 M 461 11 C 463.68 21.17 458.88 32.58 461 51 M 461 11 C 460.31 20.39 457.39 32.13 461 51 M 461 51 C 457.98 66.33 464.57 77.63 461 81 M 461 51 C 463.67 60.96 464.22 70.48 461 81 M 461 81 C 372.43 77.29 278.42 77.69 181 81 M 461 81 C 378.94 77.5 291.55 78.76 181 81 M 181 81 C 182.65 66.96 185.04 55.46 181 51 M 181 81 C 179.74 67.33 182.29 56.58 181 51 M 181 51 C 179.42 32.65 183.16 17.23 181 11 M 181 51 C 181.82 36.76 182.65 26.4 181 11" fill="none" stroke="rgb(0, 110, 175)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 110, 175), rgb(81, 175, 231));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 46px; margin-left: 182px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: normal; word-wrap: normal; "><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter">Redis </font><div><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter">Streams</font></div></div></div></div></foreignObject></switch></g></g></g><g data-cell-id="Q77kIsXw3lwBX4-_rOHd-13"><g><rect x="301" y="21" width="120" height="60" fill="none" stroke="none" pointer-events="all"/><path d="M 304.86 18.99 C 327.31 17.88 352.88 17.96 419.47 19.34 C 486.06 20.71 418.42 18.73 420.86 25.41 C 423.29 32.09 420.85 46.86 419.69 61.58 C 418.53 76.3 417.77 80.73 408.74 80.62 C 399.71 80.52 379.7 77.05 353.38 76.68 C 327.06 76.3 294.83 78.11 303.33 77.13 C 311.84 76.16 294.89 74.37 302.35 65.18 C 309.81 55.99 317.13 39.64 306.16 29.17 C 295.2 18.69 302.59 19.38 304.67 18.95 M 306.97 21.26 C 329.27 20.24 363.67 21.7 383.47 20.7 C 403.27 19.69 422.51 15.86 419.49 23.03 C 416.48 30.21 401.89 44.59 398.71 56.95 C 395.53 69.32 400.87 80.18 387.22 80.43 C 373.58 80.69 346.81 80.15 325.44 79.14 C 304.08 78.12 295.01 76.59 298.07 72.88 C 301.13 69.18 317.1 63.13 318.08 51.76 C 319.05 40.39 315 25.63 305.9 19.93 C 296.8 14.23 300.01 19.65 305.17 21.37" fill="#ccffff" stroke="none" pointer-events="all" style="fill: light-dark(rgb(204, 255, 255), rgb(182, 223, 230));"/><path d="M 301 21 C 336.4 19.99 368.81 18.76 421 21 M 301 21 C 330.67 22.27 362.89 22.11 421 21 M 421 21 C 421.2 37.11 420.51 50.99 421 81 M 421 21 C 422.19 42.23 421.37 60.63 421 81 M 421 81 C 384.19 80.85 351.75 79.96 301 81 M 421 81 C 375.12 78.75 328.76 78.85 301 81 M 301 81 C 299.37 64.03 300.73 50.28 301 21 M 301 81 C 300.7 65.77 301.27 51.56 301 21" fill="none" stroke="#006eaf" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 110, 175), rgb(81, 175, 231));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 51px; margin-left: 302px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; "><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter">Publish </font><div><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter">Price Ticks </font></div><div><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter">to</font><div><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter">Redis </font><span style="font-family: &quot;Architects Daughter&quot;; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));">Streams</span></div></div></div></div></div></foreignObject></switch></g></g></g><g data-cell-id="Q77kIsXw3lwBX4-_rOHd-1"><g><rect x="21" y="21" width="120" height="60" fill="none" stroke="none" pointer-events="all"/><path d="M 19.07 17.04 L 140.53 24.22 L 143.38 80.28 L 18.86 79.74" fill="#ccffff" stroke="none" pointer-events="all" style="fill: light-dark(rgb(204, 255, 255), rgb(182, 223, 230));"/><path d="M 21 21 C 57.26 21.32 98.73 17.2 141 21 M 21 21 C 61.88 19.69 97.26 18.23 141 21 M 141 21 C 140.1 32.8 144.74 47.47 141 81 M 141 21 C 138.81 39.09 140.05 55.86 141 81 M 141 81 C 113.35 77.73 95.1 80.43 21 81 M 141 81 C 96.56 77.6 55.75 78.08 21 81 M 21 81 C 17.16 59.38 21.47 42.2 21 21 M 21 81 C 22.28 57.01 21.16 36.9 21 21" fill="none" stroke="#006eaf" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 110, 175), rgb(81, 175, 231));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 51px; margin-left: 22px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter">Market Exchange</font><div><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter">Simulator</font></div></div></div></div></foreignObject></switch></g></g></g><g data-cell-id="Q77kIsXw3lwBX4-_rOHd-14"><g><ellipse cx="16" cy="16" rx="15" ry="15" fill="none" stroke="none" pointer-events="all"/><path d="M 14.21 2.36 C 17.18 1.56 21.86 1.96 24.37 3.43 C 26.89 4.89 28.12 7.8 29.31 11.17 C 30.5 14.54 32.74 20.33 31.5 23.64 C 30.26 26.95 25.19 30.14 21.85 31.03 C 18.51 31.92 14.43 29.94 11.44 28.97 C 8.45 28 5.62 27.55 3.9 25.2 C 2.18 22.85 1.22 18.34 1.13 14.86 C 1.05 11.37 0.96 6.77 3.37 4.28 C 5.78 1.79 12.99 0.35 15.6 -0.08 C 18.21 -0.5 18.54 1.06 19.05 1.73 M 20.75 -0.37 C 23.75 0.3 27.3 4.13 29.33 6.71 C 31.36 9.29 33.26 11.56 32.93 15.09 C 32.6 18.63 29.68 25.76 27.35 27.91 C 25.03 30.06 22.3 28.01 18.99 27.99 C 15.68 27.97 10.59 29.23 7.5 27.81 C 4.42 26.4 1.59 22.43 0.47 19.5 C -0.66 16.57 -0.8 12.58 0.74 10.23 C 2.28 7.88 7.01 7.06 9.72 5.4 C 12.42 3.74 14.98 1.16 16.96 0.26 C 18.94 -0.64 21.13 -0.2 21.58 -0.01" fill="#1ba1e2" stroke="none" pointer-events="all" style="fill: light-dark(rgb(27, 161, 226), rgb(255, 255, 0));"/><path d="M 9.97 1.21 C 12.84 -0.45 16.48 -0.08 19.75 1.03 C 23.03 2.15 28.12 4.87 29.62 7.9 C 31.13 10.92 29.68 16.17 28.8 19.17 C 27.92 22.18 26.24 24.09 24.37 25.91 C 22.5 27.73 20.86 29.8 17.58 30.09 C 14.29 30.38 7.14 29.29 4.63 27.66 C 2.13 26.03 2.49 23.62 2.53 20.3 C 2.57 16.97 1.57 10.99 4.87 7.71 C 8.18 4.44 18.54 0.93 22.36 0.64 C 26.17 0.35 28.33 5.21 27.75 5.95 M 23.07 3.47 C 26.68 4.14 27.99 7.12 29.24 9.58 C 30.5 12.04 30.65 15.4 30.6 18.24 C 30.56 21.07 31.4 24.25 28.99 26.6 C 26.58 28.94 20.25 31.83 16.15 32.33 C 12.04 32.82 7.21 31.83 4.34 29.56 C 1.46 27.29 -0.99 21.67 -1.11 18.7 C -1.23 15.73 1.41 14.3 3.63 11.72 C 5.84 9.14 9.15 4.49 12.2 3.22 C 15.24 1.95 20.68 4.44 21.9 4.08 C 23.12 3.73 19.51 1.65 19.5 1.11" fill="none" stroke="#006eaf" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 110, 175), rgb(153, 153, 0));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 28px; height: 1px; padding-top: 16px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter">1</font></div></div></div></foreignObject></switch></g></g></g><g data-cell-id="Q77kIsXw3lwBX4-_rOHd-15"><g><ellipse cx="346" cy="16" rx="15" ry="15" fill="none" stroke="none" pointer-events="all"/><path d="M 358.58 6.84 C 360.7 8.97 359.36 13.44 358.99 16.64 C 358.63 19.85 358.12 23.85 356.39 26.04 C 354.66 28.23 351.69 28.89 348.61 29.79 C 345.53 30.68 340.52 32.62 337.9 31.42 C 335.28 30.22 334.17 25.67 332.9 22.6 C 331.63 19.52 329.58 16.28 330.28 12.97 C 330.97 9.65 334.39 4.47 337.08 2.68 C 339.78 0.9 342.91 0.86 346.47 2.27 C 350.03 3.68 356.24 8.17 358.44 11.14 C 360.63 14.11 359.32 19.87 359.65 20.09 M 349.14 -0.69 C 351.61 -0.35 354.57 4.44 356.6 6.92 C 358.63 9.4 361.05 11.18 361.32 14.21 C 361.59 17.25 360.24 22.22 358.21 25.14 C 356.18 28.06 352.29 31.25 349.13 31.73 C 345.97 32.2 342.06 29.48 339.24 28 C 336.41 26.53 333.54 25.96 332.2 22.87 C 330.85 19.78 329.77 12.4 331.19 9.46 C 332.6 6.53 337.26 6.57 340.67 5.25 C 344.08 3.92 350.17 1.64 351.64 1.53 C 353.1 1.42 349.56 4.05 349.47 4.58" fill="#1ba1e2" stroke="none" pointer-events="all" style="fill: light-dark(rgb(27, 161, 226), rgb(255, 255, 0));"/><path d="M 335.06 5.8 C 336.88 3.45 340.04 2.96 343.31 2.65 C 346.59 2.34 351.73 2.34 354.69 3.93 C 357.65 5.53 359.98 9.11 361.1 12.21 C 362.21 15.32 362.46 19.52 361.39 22.55 C 360.31 25.58 357.54 28.83 354.65 30.37 C 351.76 31.92 347.28 32.96 344.04 31.84 C 340.8 30.72 337.55 26.03 335.19 23.65 C 332.83 21.28 328.08 21.47 329.86 17.57 C 331.64 13.66 341.85 2.14 345.85 0.21 C 349.86 -1.72 354.32 5.88 353.88 5.98 M 346.5 -1.86 C 349.53 -1.36 352.11 4.18 354.04 6.85 C 355.97 9.51 357.68 10.91 358.1 14.11 C 358.52 17.31 358.08 23.5 356.53 26.05 C 354.98 28.59 351.75 28.81 348.81 29.37 C 345.86 29.93 341.89 30.74 338.86 29.42 C 335.83 28.1 332.28 23.94 330.63 21.47 C 328.98 19.01 328.22 17.17 328.97 14.62 C 329.71 12.07 332.7 8.06 335.08 6.17 C 337.47 4.28 341.21 4.33 343.28 3.27 C 345.34 2.22 347.34 -0.23 347.46 -0.17" fill="none" stroke="#006eaf" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 110, 175), rgb(153, 153, 0));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 28px; height: 1px; padding-top: 16px; margin-left: 332px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter">2</font></div></div></div></foreignObject></switch></g></g></g><g data-cell-id="Q77kIsXw3lwBX4-_rOHd-16"><g><ellipse cx="626" cy="16" rx="15" ry="15" fill="none" stroke="none" pointer-events="all"/><path d="M 621.59 2.61 C 624.28 1.34 628.96 0.64 632.24 1.61 C 635.52 2.59 639.83 5.29 641.28 8.46 C 642.72 11.62 641.7 17.56 640.93 20.59 C 640.15 23.62 639.61 25.1 636.63 26.62 C 633.66 28.15 626.4 30.06 623.09 29.75 C 619.79 29.44 619.03 27.08 616.8 24.78 C 614.58 22.48 610.35 18.88 609.72 15.95 C 609.09 13.02 611.02 9.7 613.02 7.19 C 615.02 4.69 619.65 2.12 621.73 0.91 C 623.81 -0.3 624.85 -0.19 625.5 -0.05 M 627.53 -1 C 630.47 -1 637.84 4.74 639.87 7.13 C 641.9 9.52 639.85 9.79 639.71 13.33 C 639.58 16.87 640.81 25.67 639.07 28.36 C 637.33 31.05 632.29 29.49 629.27 29.46 C 626.25 29.43 623.52 29.73 620.97 28.19 C 618.41 26.65 615.48 23.49 613.93 20.24 C 612.37 16.99 610.35 11.22 611.63 8.7 C 612.92 6.17 618.51 6.07 621.63 5.09 C 624.74 4.11 629.36 3.12 630.31 2.81 C 631.27 2.49 627.98 3.29 627.36 3.18" fill="#1ba1e2" stroke="none" pointer-events="all" style="fill: light-dark(rgb(27, 161, 226), rgb(255, 255, 0));"/><path d="M 636.61 3.74 C 639.09 5.32 640.71 9.33 641.43 12.19 C 642.14 15.05 642.49 17.66 640.91 20.88 C 639.32 24.1 635.1 29.9 631.92 31.5 C 628.74 33.11 624.7 31.78 621.81 30.5 C 618.92 29.23 616.47 26.21 614.58 23.86 C 612.69 21.51 610.23 19.77 610.45 16.42 C 610.67 13.08 613.49 6.31 615.89 3.79 C 618.29 1.27 621 0.82 624.85 1.31 C 628.7 1.79 636.15 4.84 638.99 6.71 C 641.84 8.58 642.52 12.49 641.9 12.51 M 619.97 0.18 C 623.13 -1.46 630.6 -2.48 633.98 -0.8 C 637.35 0.88 639.43 6.99 640.24 10.26 C 641.06 13.54 639.41 16.36 638.86 18.84 C 638.31 21.32 639.46 22.6 636.96 25.13 C 634.45 27.65 627.72 33.23 623.82 33.97 C 619.92 34.7 615.57 32.23 613.55 29.52 C 611.52 26.81 611.45 20.95 611.67 17.72 C 611.9 14.49 613.38 12.46 614.89 10.15 C 616.39 7.84 619.93 5.55 620.69 3.85 C 621.46 2.14 619.2 0.26 619.47 -0.09" fill="none" stroke="#006eaf" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 110, 175), rgb(153, 153, 0));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 28px; height: 1px; padding-top: 16px; margin-left: 612px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter">3</font></div></div></div></foreignObject></switch></g></g></g><g data-cell-id="Q77kIsXw3lwBX4-_rOHd-22"><g><path d="M 161 50.71 L 280.33 51.01" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" stroke-dasharray="8" style="stroke: light-dark(rgb(0, 0, 0), rgb(33, 195, 255)); animation: 500ms linear 0s infinite normal none running ge-flow-animation-MF9R-yhYZdmeXJ07fO4p; stroke-dashoffset: 16;"/><path d="M 285.58 51.01 L 278.58 54.51 L 280.33 51.01 L 278.58 47.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(33, 195, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(33, 195, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 51px; margin-left: 223px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; "><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter" style="color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));">Generates </font><div><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter" style="color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));">Market Data</font></div></div></div></div></foreignObject></switch></g></g></g><g data-cell-id="Q77kIsXw3lwBX4-_rOHd-23"><g><path d="M 461 50.71 L 541.49 50.71 L 614.63 50.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" stroke-dasharray="8" style="stroke: light-dark(rgb(0, 0, 0), rgb(33, 195, 255)); animation: 500ms linear 0s infinite normal none running ge-flow-animation-MF9R-yhYZdmeXJ07fO4p; stroke-dashoffset: 16;"/><path d="M 619.88 51 L 612.87 54.47 L 614.63 50.98 L 612.89 47.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(33, 195, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(33, 195, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 51px; margin-left: 541px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; "><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter" style="color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));">Streams </font><div><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter" style="color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));">Real-Time Prices </font></div><div><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter" style="color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));">using Server Side</font><div><font face="Architects Daughter" data-font-src="https://fonts.googleapis.com/css?family=Architects+Daughter" style="color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));">Events</font></div></div></div></div></div></foreignObject></switch></g></g></g></g></g></g></svg>

</div>

### The Flow

The system follows a clean, purposeful architecture:

#### 1. Data Generation
The **Market Exchange Simulator** generates synthetic tick data for symbols like NIFTY50 and BANKNIFTY. Each tick includes:
- Symbol identifier
- Current price
- Price change (delta)
- Trading volume
- Timestamp

This component simulates realistic market behavior with configurable volatility and tick frequency.

#### 2. Data Processing
Generated ticks flow into **Redis Streams** for:
- **Validation**: Ensuring data integrity and completeness
- **Queueing**: Providing backpressure management and reliable delivery
- **Persistence**: Maintaining a replay buffer for late-joining clients

Redis Streams acts as the backbone, decoupling data generation from consumption while providing ordering guarantees critical for financial data.

#### 3. Data Delivery
A **SignalR Hub** consumes from Redis Streams and pushes updates to connected web clients using Server-Sent Events (SSE). This approach provides:
- Automatic reconnection handling
- Efficient one-way communication (server to client)
- Native browser support without additional protocols

#### 4. User Display
The web interface renders live price cards showing:
- **Currency formatting**: Professional financial display
- **Delta coloring**: Visual indication of price direction (green for up, red for down)
- **Volume indicators**: Trading activity levels
- **Candlestick charts**: Historical price movement visualization

---

## Architecture Layers

### C4 Model Implementation

This system follows the C4 model for architecture documentation:

**Context Diagram** *(System Context - Level 1)*
- External actors: Web browser users
- System boundary: Stock Market Simulator
- External dependencies: None (self-contained simulation)

**Container Diagram** *(Container - Level 2)*
- Market Data Generator (Background Service)
- Redis Streams (Message Broker)
- SignalR Hub (WebSocket Server)
- Web Frontend (React/JavaScript)

**Component Diagram** *(Component - Level 3)*
Components within each container are organized by responsibility:
- Generator: `TickGenerator`, `MarketSymbolRegistry`, `VolatilityEngine`
- Hub: `PriceStreamHub`, `ClientConnectionManager`, `RedisConsumer`
- Frontend: `PriceCard`, `ChartRenderer`, `ConnectionManager`

**Code Diagram** *(Code - Level 4)*
Available in source repositories with detailed class interactions.

---

## High-Level Design (HLD)

### System Characteristics

**Scalability**
- Horizontally scalable SignalR hub using Redis backplane
- Stateless design enables load balancing across multiple instances
- Redis Streams provides ordering guarantees across distributed consumers

**Reliability**
- Automatic client reconnection with missed message replay
- Redis persistence ensures no data loss during system restarts
- Health checks monitor all critical paths

**Performance**
- Sub-100ms latency from generation to client display
- Supports 10,000+ concurrent connections per instance
- Efficient serialization using MessagePack for wire protocol

---

## Low-Level Design (LLD)

### Key Components

#### TickGenerator Service
```plaintext
Responsibilities:
- Generate realistic market data
- Apply volatility models
- Publish to Redis Streams

Algorithms:
- Geometric Brownian Motion for price walks
- Time-series generation with configurable frequency
- Multi-threaded generation for multiple symbols
```

#### SignalR Hub
```plaintext
Responsibilities:
- Accept WebSocket connections
- Subscribe to Redis Streams
- Push updates to connected clients

Patterns:
- Observer pattern for client subscriptions
- Backpressure handling with client-side acknowledgments
- Connection lifecycle management
```

#### Web Frontend
```plaintext
Responsibilities:
- Establish WebSocket connection
- Render live price updates
- Visualize historical data

Technologies:
- SignalR JavaScript client
- Chart.js for candlestick rendering
- React for component architecture
```

---

## Call-Chain Diagrams

### Price Update Flow

```
TickGenerator
    ↓
[Generates Tick Data]
    ↓
Redis Streams (XADD)
    ↓
SignalR Hub (XREAD)
    ↓
[Broadcast to Group]
    ↓
Connected Clients
    ↓
[Update UI]
```

### Client Connection Flow

```
Browser
    ↓
[WebSocket Handshake]
    ↓
SignalR Hub
    ↓
[Subscribe to Symbol Group]
    ↓
ConnectionManager
    ↓
[Add to Active Connections]
    ↓
[Begin Streaming Updates]
```

---

## Quality Attributes

### Maintainability
- Clean separation of concerns
- Dependency injection throughout
- Comprehensive logging with Serilog

### Testability
- Unit tests for business logic
- Integration tests for Redis interactions
- End-to-end tests for critical user flows

### Observability
- Structured logging
- Custom metrics (ticks generated, clients connected)
- Distributed tracing support

---

## Architectural Decisions

### Why Redis Streams over RabbitMQ?
Redis Streams provides exactly the capabilities needed:
- Native support for pub/sub with persistence
- Consumer groups for horizontal scaling
- Simpler operational model
- Already used for SignalR backplane

### Why SignalR over raw WebSockets?
SignalR abstracts away connection management:
- Automatic reconnection logic
- Fallback transport options
- Built-in group management
- Native .NET integration

### Why Server-Sent Events over WebSockets?
For this use case, communication is strictly server-to-client:
- Simpler protocol overhead
- Better browser support
- Automatic reconnection
- Standard HTTP infrastructure compatibility

---

## Future Enhancements

1. **Historical Data Replay**: Allow users to replay past trading sessions
2. **Custom Indicators**: Support technical analysis indicators (MACD, RSI, Bollinger Bands)
3. **Multi-Timeframe Charts**: 1-minute, 5-minute, hourly views
4. **Order Book Simulation**: Add bid/ask spreads and depth visualization
5. **WebAssembly Client**: Leverage Blazor for richer client-side computation

---

## Conclusion

The Stock Market Simulator demonstrates how modern architecture principles create systems that are **reliable**, **scalable**, and **maintainable**. By applying enterprise patterns to a focused problem domain, we build clarity through constraints.

This isn't about showing every possible feature. It's about craftsmanship—choosing the right tools, applying proven patterns, and delivering value through disciplined engineering.

> **"The quality of your work reflects the quality of your thinking. Build systems that think clearly."**  
> — Inspired by Earl Nightingale's philosophy

---

*Last Updated: January 23, 2026*  
*Architecture Version: 1.0*
